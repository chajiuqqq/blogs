<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="如何读取模版并返回HTML template里的动作 1. 条件动作 2. 迭代动作 3. 设置动作 4. 包含动作 参数 变量 管道 函数 上下文感知 取消HTML转义 嵌套模板"><title>Golang中的Template模板引擎</title><link rel=canonical href=https://chajiuqqq.github.io/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/><link rel=stylesheet href=/blogs/scss/style.min.ac77dcf8b111b51da39a92990f431923f210f3876d85798a2125667f96dc33a4.css><meta property="og:title" content="Golang中的Template模板引擎"><meta property="og:description" content="如何读取模版并返回HTML template里的动作 1. 条件动作 2. 迭代动作 3. 设置动作 4. 包含动作 参数 变量 管道 函数 上下文感知 取消HTML转义 嵌套模板"><meta property="og:url" content="https://chajiuqqq.github.io/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/"><meta property="og:site_name" content="茶酒的小站"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="go-web"><meta property="article:published_time" content="2023-02-23T15:24:58+08:00"><meta property="article:modified_time" content="2023-02-23T15:24:58+08:00"><meta name=twitter:title content="Golang中的Template模板引擎"><meta name=twitter:description content="如何读取模版并返回HTML template里的动作 1. 条件动作 2. 迭代动作 3. 设置动作 4. 包含动作 参数 变量 管道 函数 上下文感知 取消HTML转义 嵌套模板"><script async src="https://www.googletagmanager.com/gtag/js?id=G-BCR6BTPPNW"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BCR6BTPPNW",{anonymize_ip:!1})}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blogs/><img src=/blogs/img/avatar_hu4031dbb736a187d9130ab1a88d3b3ee1_9967_300x0_resize_q75_box.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/blogs>茶酒的小站</a></h1><h2 class=site-description>一个年轻的小站</h2></div></header><ol class=social-menu><li><a href=https://github.com/chajiuqqq target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blogs/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/blogs/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><li><a href=/blogs/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/blogs/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/blogs/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://chajiuqqq.github.io/blogs/en/>English</option><option value=https://chajiuqqq.github.io/blogs/ selected>中文</option><option value=https://chajiuqqq.github.io/blogs/ar/>عربي</option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/blogs/categories/golang/>golang</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/>Golang中的Template模板引擎</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2023-02-23 15:24</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 5 分钟</time></div></footer></div></header><section class=article-content><ul><li><a class=link href=#%e5%a6%82%e4%bd%95%e8%af%bb%e5%8f%96%e6%a8%a1%e7%89%88%e5%b9%b6%e8%bf%94%e5%9b%9ehtml>如何读取模版并返回HTML</a></li><li><a class=link href=#template%e9%87%8c%e7%9a%84%e5%8a%a8%e4%bd%9c>template里的动作</a><ul><li><a class=link href=#1-%e6%9d%a1%e4%bb%b6%e5%8a%a8%e4%bd%9c>1. 条件动作</a></li><li><a class=link href=#2-%e8%bf%ad%e4%bb%a3%e5%8a%a8%e4%bd%9c>2. 迭代动作</a></li><li><a class=link href=#3-%e8%ae%be%e7%bd%ae%e5%8a%a8%e4%bd%9c>3. 设置动作</a></li><li><a class=link href=#4-%e5%8c%85%e5%90%ab%e5%8a%a8%e4%bd%9c>4. 包含动作</a></li></ul></li><li><a class=link href=#%e5%8f%82%e6%95%b0>参数</a></li><li><a class=link href=#%e5%8f%98%e9%87%8f>变量</a></li><li><a class=link href=#%e7%ae%a1%e9%81%93>管道</a></li><li><a class=link href=#%e5%87%bd%e6%95%b0>函数</a></li><li><a class=link href=#%e4%b8%8a%e4%b8%8b%e6%96%87%e6%84%9f%e7%9f%a5>上下文感知</a><ul><li><a class=link href=#%e5%8f%96%e6%b6%88html%e8%bd%ac%e4%b9%89>取消HTML转义</a></li></ul></li><li><a class=link href=#%e5%b5%8c%e5%a5%97%e6%a8%a1%e6%9d%bf>嵌套模板</a><ul><li><a class=link href=#%e5%9d%97%e6%a8%a1%e6%9d%bf>块模板</a></li></ul></li></ul><h1 id=如何读取模版并返回html>如何读取模版并返回HTML</h1><p>模版中的动作默认使用{{和}}包围，也可以自行修改界定符。<code>{{.}}</code>指的是用传入的值替换这个动作本身。</p><p>go web的模版引擎使用方法分为以下两个步骤：</p><ul><li>读取文本模版文件（或一个模版字符串），进行语法分析，创建一个模版结构。</li><li>将数据传入，执行模版，生成HTML。</li></ul><p>第一个步骤：</p><pre><code>//从文件中生成模版
t,_ := template.ParseFiles(&quot;index.html&quot;)

//读取多个文件，但是只生成第一个文件的模板（因为第一个模版可能调用其他模版）
t,_ := template.ParseFiles(&quot;index.html&quot;,&quot;content.html&quot;,&quot;navbar.html&quot;)

//从字符串中生成模版
tmpl := `...`
t := template.New(&quot;tmpl.html&quot;)
t,_ = t.Parse(tmpl)
</code></pre><p>第二个步骤：</p><pre><code>// t.Execute第一个参数是io.Writer，第二个参数是传入的数据。这个方法只会执行第一个模版，也就是index.html
t,_ := template.ParseFiles(&quot;index.html&quot;,&quot;content.html&quot;,&quot;navbar.html&quot;)
t.Execute(w,&quot;hello world&quot;)

//如果想要执行其他模板，用t.ExecuteTemplate,并在第二个参数指定模版名称
t,_ := template.ParseFiles(&quot;index.html&quot;,&quot;content.html&quot;,&quot;navbar.html&quot;)
t.ExecuteTemplate(w,&quot;content.html&quot;,&quot;hello world&quot;)
</code></pre><p>如果你只是在html中加入一些{{.}}的指令，模板的名称和文件名称一样，当然也可以重新定义模版的名字，或在一个模板文件中定义多个模板。</p><p>注意传入的数据建议是指针，也就是加上数据的引用。并且在tmpl里调用func时，不会自动把x.field转为(&x).field，所以如果你定了一个结构的指针接受者方法，而传入tmpl一个值的数据，那么无法调用该方法。会提示在该类型中找不到该方法。</p><pre><code>//t.ExecuteTemplate(w,&quot;content.html&quot;,Thread{})
t.ExecuteTemplate(w,&quot;content.html&quot;,&amp;Thread{})
</code></pre><p>内嵌的field可以直接通过.调用，比如定义People和User：</p><pre><code>type People struct{
    Name string
}

type User struct{
    People
    Username string
    Pwd string
}
</code></pre><p>在tmpl中，传入user，如果直接 {{.Name}}是可以获取的。</p><p><strong>讲了这么多还不知道模版文件怎么写呢。下面讲讲动作语法。</strong></p><h1 id=template里的动作>template里的动作</h1><p>如果要访问结构里的field，用：<code>{{ .Name }}</code>，或 <code>{{ .User.Name }}</code></p><h2 id=1-条件动作>1. 条件动作</h2><p>接受true或false，从而决定执行（显示）哪条语句。下面如果传入true，则会显示content1语句。</p><pre><code>{{ if . }}
    content1
{{ else }}
    content2
{{ end }}
</code></pre><h2 id=2-迭代动作>2. 迭代动作</h2><p>可对传入的数组、切片、映射、或通道进行迭代，迭代里，<code>.</code>会被设置为当前迭代的元素.<code>else</code>用于当迭代的结构为空或nil时显示备选结果。</p><pre><code>{{ range . }}
    &lt;li&gt;The Elem: {{ . }} &lt;/li&gt;
{{ end }}

{{ range . }}
    &lt;li&gt;The Elem: {{ . }} &lt;/li&gt;
{{ else }}
    &lt;li&gt; No elems. &lt;/li&gt;
{{ end }}
</code></pre><h2 id=3-设置动作>3. 设置动作</h2><p>类似if，<code>{{if pipeline}} T1 {{end}}</code>,如果pipeline为空（false，0，nil，空的array, slice, map,string），则执行T0，否则执行T1.同时with里面{{.}}会被设置为pipeline的值。这是和if唯一的区别。</p><pre><code>{{with pipeline}} T1 {{end}}
{{with pipeline}} T1 {{else}} T0 {{end}}
</code></pre><p>可以用来判断当某个集合为空时，显示xxx话。当不为空时，在with里用dot显示这个集合里的东西。</p><h2 id=4-包含动作>4. 包含动作</h2><p>可以在一个模板里包含另一个模板，用到<code>{{ template "name" }}</code>,或<code>{{template "name" pipeline}}</code></p><p>第一个参数是模板的名字（如果没定义，那就是模板文件名称），第二个参数是要传给这下一个模板的参数。</p><p>通常这么用：<code>{{template "name" . }}</code></p><h1 id=参数>参数</h1><p>上述的if后边跟的就是arg参数，这边传了dot过去。</p><pre><code>{{ if . }}
    content1
{{ else }}
    content2
{{ end }}
</code></pre><p>arg可以是一个值，一个变量，或一个返回一个值的函数。</p><p>如：</p><pre><code>{{ if . }} content1 {{ end }}
{{ if $key }} content1 {{ end }}
{{ if .IsExist }} content1 {{ end }}
</code></pre><h1 id=变量>变量</h1><p>可以在动作中设置变量：<code>$key := something</code>,如：</p><pre><code>{{ range $key, $value := . }}
    &lt;li&gt;{{ $key }} : {{ $value }} &lt;/li&gt;
{{ end }}
</code></pre><h1 id=管道>管道</h1><p>管道可以串联参数和函数、方法。如</p><pre><code>{{ p1 | p2 | p3 }}
</code></pre><p>这三者都是参数。</p><pre><code>{{ 123.456 | printf &quot;%.2f&quot; }}
</code></pre><p>将123.456传给<strong>模板内置printf函数</strong></p><p>当然函数也可以通过后置参数调用：</p><pre><code>{{ printf &quot;%.2f&quot; 123.456 }}
</code></pre><h1 id=函数>函数</h1><p>模板引擎里的内置函数虽然可以接受多个参数，但是只能返回一个值，或返回一个值+一个错误。内置函数列表见 <a class=link href=https://pkg.go.dev/text/template#hdr-Functions target=_blank rel=noopener>https://pkg.go.dev/text/template#hdr-Functions</a></p><p>用户可以自定义函数并传入模板，步骤如下：</p><ol><li>创建一个FuncMap，并传入<code>函数名称：真的函数名</code>，后面模板里就用函数名称进行调用</li><li>将FuncMap和模板绑定</li></ol><p><img src=/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/1.png width=1000 height=430 srcset="/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/1_huef1bbdaf32f80678fafa93f55074d365_190394_480x0_resize_box_3.png 480w, /blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/1_huef1bbdaf32f80678fafa93f55074d365_190394_1024x0_resize_box_3.png 1024w" loading=lazy alt="Alt text" class=gallery-image data-flex-grow=232 data-flex-basis=558px></p><p>调用：</p><pre><code>{{ . | fdate }}
或
{{ fdate . }}
</code></pre><p>还有些参数、变量、管道和函数这里先略过。</p><h1 id=上下文感知>上下文感知</h1><p>go模板里动作的输出会根据所处的上下文改变输出形态，如</p><ul><li>{{ . }}在HTML处，会将输出进行html转译后输出</li><li>{{ . }}在href或src处，会将输出进行URL转译后输出</li></ul><p><img src=/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/2.png width=1536 height=426 srcset="/blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/2_hu7ca5a1e6d4d0f62c5bd7a77332d8f790_495731_480x0_resize_box_3.png 480w, /blogs/p/golang%E4%B8%AD%E7%9A%84template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/2_hu7ca5a1e6d4d0f62c5bd7a77332d8f790_495731_1024x0_resize_box_3.png 1024w" loading=lazy alt="Alt text" class=gallery-image data-flex-grow=360 data-flex-basis=865px></p><p>这主要用于实现自动防御编程，可以抵御XSS攻击。</p><h2 id=取消html转义>取消HTML转义</h2><p>使用<code>template.HTML()</code>包裹值并传入模板即可。如<code>template.HTML(r.FormValue("comment"))</code></p><h1 id=嵌套模板>嵌套模板</h1><p>通常我们会在网站开发中复用某套layout，如有导航栏，服务器状态，版权声明。然后中间是展示的内容。如果要实现内容替换而其他东西复用，我们就不能使用默认的模板名字。比如下面这个lauout.html</p><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=9&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;title&gt;ChitChat&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    {{ template &quot;content.html&quot; }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>这里嵌套了"content.html"模板。问题是只有唯一一个"content.html"，这么写除了把一个文件拆成两个文件，无法复用layout.html。于是我们可以定义模板名称，而不是用默认的文件名：</p><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=9&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;title&gt;ChitChat&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    {{ template &quot;content&quot; }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>然后在index.html中定义一个模板为content：</p><pre><code>{{ define &quot;content&quot; }}
    &lt;p class=&quot;lead&quot;&gt;
    &lt;a href=&quot;/thread/new&quot;&gt;Start a thread&lt;/a&gt; or join one below!
    &lt;/p&gt;
{{ end }}
</code></pre><p>parseFiles时传入layout.html和index.html，就可以实现模板嵌入。</p><p>同理，我们还可以定义另一个login.html,并在其中定义content：</p><pre><code>{{ define &quot;content&quot; }}
    &lt;a href=&quot;/login&quot;&gt;Login！&lt;/a&gt; 
{{ end }}
</code></pre><p>parseFiles时传入layout.html和login.html，就可以实现另一个模板的嵌入。</p><p>如果模板名字不同，也可以在同一个文件里定义多个不同的模板；可以在多个文件里定义同名模板。</p><h2 id=块模板>块模板</h2><p>这是另一种定义模板的方法。主要用于直接在一个模板中定义新的模板，并且作为缺省模板使用。</p><pre><code>{{ define &quot;layout&quot; }}
    hello
    {{ block &quot;content&quot; . }}
        &lt;p&gt;someone!&lt;/p&gt;
    {{ end }}
{{ end }}
</code></pre><p>如果在parseFiles时没有传入额外的content模板，则会使用layout里定义的content块作为缺省使用。</p></section><footer class=article-footer><section class=article-tags><a href=/blogs/tags/go-web/>go-web</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/blogs/p/golang%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8%E6%B5%8B%E8%AF%95/><div class=article-details><h2 class=article-title>Golang中的应用测试</h2></div></a></article><article><a href=/blogs/p/golang%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/><div class=article-details><h2 class=article-title>Golang中的数据存储</h2></div></a></article><article><a href=/blogs/p/gokit%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%92%8Cconsul%E7%BB%93%E5%90%88%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%92%8C%E5%8F%91%E7%8E%B0/><div class=article-details><h2 class=article-title>Gokit项目结构和Consul结合实现服务注册和发现</h2></div></a></article><article><a href=/blogs/p/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8Bgrpc%E7%9A%84%E4%BD%BF%E7%94%A8/><div class=article-details><h2 class=article-title>介绍一下grpc的使用</h2></div></a></article><article><a href=/blogs/p/%E4%B8%80%E4%B8%AA%E4%BD%BF%E7%94%A8go-rpc%E5%BA%93%E5%AE%9E%E7%8E%B0%E7%9A%84rpc%E4%BE%8B%E5%AD%90/><div class=article-details><h2 class=article-title>一个使用Go Rpc库实现的RPC例子</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2023 茶酒的小站</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.13.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#如何读取模版并返回html>如何读取模版并返回HTML</a></li><li><a href=#template里的动作>template里的动作</a><ol><li><a href=#1-条件动作>1. 条件动作</a></li><li><a href=#2-迭代动作>2. 迭代动作</a></li><li><a href=#3-设置动作>3. 设置动作</a></li><li><a href=#4-包含动作>4. 包含动作</a></li></ol></li><li><a href=#参数>参数</a></li><li><a href=#变量>变量</a></li><li><a href=#管道>管道</a></li><li><a href=#函数>函数</a></li><li><a href=#上下文感知>上下文感知</a><ol><li><a href=#取消html转义>取消HTML转义</a></li></ol></li><li><a href=#嵌套模板>嵌套模板</a><ol><li><a href=#块模板>块模板</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blogs/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>